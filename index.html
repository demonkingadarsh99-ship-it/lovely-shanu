<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My Midnight Star üåô</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Fredoka+One&family=Quicksand:wght@500;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --space-bg: linear-gradient(135deg, #0f2027 0%, #203a43 50%, #2c5364 100%);
            --glass: rgba(255, 255, 255, 0.1);
            --moon-glow: #fdfcf0;
            --accent: #a2d2ff;
            --gold: #ffd700;
            --text: #ffffff;
        }

        body {
            margin: 0;
            background: var(--space-bg);
            font-family: 'Quicksand', sans-serif;
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            overflow-x: hidden;
            color: var(--text);
        }

        /* Twinkling Stars Background */
        .star {
            position: absolute;
            background: white;
            border-radius: 50%;
            pointer-events: none;
            box-shadow: 0 0 10px white;
            animation: twinkle var(--duration) infinite ease-in-out;
            opacity: 0;
        }

        @keyframes twinkle {
            0% { transform: scale(0.5); opacity: 0; }
            50% { transform: scale(1.2); opacity: 0.8; }
            100% { transform: scale(0.5); opacity: 0; }
        }

        .main-card {
            background: var(--glass);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            border-radius: 40px;
            padding: 30px;
            width: 85%;
            max-width: 450px;
            text-align: center;
            box-shadow: 0 20px 50px rgba(0,0,0,0.5);
            border: 1px solid rgba(255, 255, 255, 0.2);
            z-index: 10;
            position: relative;
        }

        h1 { font-family: 'Fredoka One', cursive; color: var(--accent); letter-spacing: 1px; margin-bottom: 5px; text-shadow: 0 0 20px rgba(162, 210, 255, 0.5); }

        /* The Moon (Breathing Tool) */
        .moon-container {
            height: 180px;
            display: flex;
            justify-content: center;
            align-items: center;
            margin: 20px 0;
        }

        .moon {
            width: 100px;
            height: 100px;
            background: radial-gradient(circle at 30% 30%, #fff, #dcdcdc);
            border-radius: 50%;
            box-shadow: 0 0 40px var(--moon-glow);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2.5rem;
            animation: moonBreathe 6s infinite ease-in-out;
        }

        @keyframes moonBreathe {
            0%, 100% { transform: scale(1); box-shadow: 0 0 30px var(--moon-glow); }
            50% { transform: scale(1.3); box-shadow: 0 0 80px var(--moon-glow), 0 0 100px var(--accent); }
        }

        /* Game & Quote Section */
        .grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 12px;
            margin-top: 25px;
        }

        .btn {
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            padding: 15px;
            border-radius: 20px;
            font-weight: 700;
            color: white;
            cursor: pointer;
            transition: 0.3s;
            backdrop-filter: blur(5px);
        }

        .btn:hover { background: var(--accent); color: #0f2027; transform: translateY(-3px); }
        .btn:active { transform: translateY(0); }
        .btn i { display: block; margin-bottom: 5px; font-size: 1.2rem; }

        #quote-box {
            margin-top: 20px;
            background: rgba(255, 255, 255, 0.1);
            padding: 20px;
            border-radius: 20px;
            min-height: 80px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 500;
            color: #fff;
            border: 1px solid rgba(255, 255, 255, 0.1);
            animation: popIn 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }

        /* NEW GAME INTERFACE STYLES */
        #game-container {
            display: none;
            margin-top: 20px;
            position: relative;
        }

        #game-intro {
            background: rgba(16, 32, 60, 0.95);
            border-radius: 20px;
            padding: 20px;
            border: 2px solid var(--accent);
            animation: popIn 0.5s ease;
        }

        #game-intro p {
            font-size: 1.1rem;
            line-height: 1.5;
            margin-bottom: 20px;
            color: #fff;
        }

        #game-canvas {
            display: none;
            /* Cheerful, magical background */
            background: linear-gradient(180deg, rgba(20, 30, 48, 0.8) 0%, rgba(36, 59, 85, 0.8) 100%);
            border-radius: 20px;
            cursor: crosshair;
            touch-action: none;
            /* Visible Gold Boundary */
            border: 3px solid var(--gold); 
            box-shadow: 0 0 15px rgba(255, 215, 0, 0.3);
        }

        /* Floating Score Text */
        .score-popup {
            position: absolute;
            color: #ffd700;
            font-family: 'Fredoka One', cursive;
            font-size: 1.3rem;
            pointer-events: none;
            animation: floatText 1.5s ease-out forwards;
            text-shadow: 0 2px 5px rgba(0,0,0,0.8);
            width: 250px;
            text-align: center;
            transform: translateX(-50%); 
            z-index: 100;
        }

        @keyframes floatText {
            0% { opacity: 0; transform: translate(-50%, 0) scale(0.5); }
            20% { opacity: 1; transform: translate(-50%, -30px) scale(1.2); }
            100% { opacity: 0; transform: translate(-50%, -100px) scale(1); }
        }

        @keyframes popIn {
            0% { transform: scale(0.8); opacity: 0; }
            100% { transform: scale(1); opacity: 1; }
        }
    </style>
</head>
<body>

    <div id="star-wrap"></div>

    <div class="main-card">
        <h1>Hi Sanuuu babuuu ‚ú®</h1>
        <div class="moon-container">
            <div class="moon">üåô</div>
        </div>
        <div style="font-weight: 700; color: rgba(255,255,255,0.8); letter-spacing: 1px;" id="breathe-txt">Inhale...</div>

        <div id="quote-box">Tap the buttons for a surprise! üíñ</div>

        <div id="game-container">
            <div id="game-intro">
                <p>I'm sending you my love via these hearts so catch as many as you can ‚ô•Ô∏è</p>
                <button class="btn" onclick="actuallyStartGame()" style="background: var(--gold); color: #000;">Ready!</button>
            </div>
            <canvas id="game-canvas" width="350" height="300"></canvas>
        </div>

        <div class="grid">
            <button class="btn" onclick="newQuote()"><i class="fas fa-magic"></i>Love Note</button>
            <button class="btn" onclick="prepGame()"><i class="fas fa-gamepad"></i>Catch Hearts</button>
            
            <button class="btn" onclick="toggleMusic()" id="music-btn"><i class="fas fa-music"></i>Our Song</button>
            
            <button class="btn" onclick="window.location.reload()"><i class="fas fa-redo"></i>Refresh</button>
            <button class="btn" onclick="alert('Sending you the biggest, warmest hug across the distance! ü§ó  Mere Kuchu Puchu Keliye Big Big and Cute Cute and Bestest Hugs Muahhhh *Hugs you very tightly')"><i class="fas fa-heart"></i>Big Hug</button>
        </div>
    </div>

    <audio id="bg-music" loop>
        <source src="song.mp3.mp3" type="audio/mpeg">
    </audio>

    <script>
        // --- MUSIC LOGIC ---
        const music = document.getElementById('bg-music');
        const musicBtn = document.getElementById('music-btn');
        let isPlaying = false;

        function toggleMusic() {
            if (isPlaying) {
                music.pause();
                musicBtn.innerHTML = '<i class="fas fa-music"></i>Our Song';
            } else {
                music.play();
                musicBtn.innerHTML = '<i class="fas fa-pause"></i>Pause Song';
            }
            isPlaying = !isPlaying;
        }

        // --- EXISTING LOGIC BELOW ---

        // 1. 30+ Beautiful Quotes
        const quotes = [
            "You are the best thing that ever happened to me. ‚ù§Ô∏è",
            "Distance is just a test of how far love can travel.",
            "I'm wearing the smile you gave me.",
            "You are my favorite notification. üì±",
            "In a world full of temporary things, you are my forever.",
            "Thinking of you is my favorite hobby.",
            "I love you more than pizza. And that's saying a lot! üçï",
            "You make my heart do a little happy dance. üíÉ",
            "I wish I could teleport to your room right now.",
            "You are my sun, my moon, and all my stars.",
            "Every day with you is a new adventure.",
            "You're stuck with me! No refunds. üòÇ",
            "Your voice is my favorite sound.",
            "You are the 'home' I've always wanted.",
            "Keep going, I am so incredibly proud of you.",
            "You are braver than you believe and stronger than you feel.",
            "I'm sending you a billion digital kisses. üíã",
            "You are my happy place.",
            "I love you more today than yesterday.",
            "Counting down the seconds until I hold you again.",
            "You are enough, just as you are.",
            "My heart is wherever you are.",
            "You make everything feel possible.",
            "You are my dream come true.",
            "Life is better with you by my side.",
            "You're my person. Always.",
            "Sending you a warm hug in a blanket. üß∂",
            "You are the melody to my song.",
            "I'd choose you in every lifetime.",
            "You are my sunshine on a rainy day.",
            "I love you infinity times infinity!",
            "You're the sparkle in my eye. ‚ú®"
        ];

        // 2. Game Compliments (Your Specific List)
        const gameCompliments = [
            "Excellent shaniya! üåü",
            "Wonderful baby! üíñ",
            "wahhhh kuchu puchu ü•∞",
            "Daymmm shanuuu! üî•",
            "My sanuuuu babuuu became the main character üëë",
            "Ohhooo shanuu! üòç",
            "You caught my heart! ‚ù§Ô∏è",
            "Perfect catch baby! üéØ",
            "You're amazing shanu! üåà",
            "Keep shining, love! ‚ú®",
            "You're unstoppable! üöÄ",
            "So proud of you! üåü",
            "You're a superstar! üåü",
            "You're my Malkin jii! ü¶∏‚Äç‚ôÄÔ∏è",
            "You're incredible cutieee! üí´",
            "You're my everything! üíï",
            "You won babyyyyy muahhhhhh! üåç"
        ];
        let complimentIndex = 0;

        function newQuote() {
            const box = document.getElementById('quote-box');
            // Hide game elements
            document.getElementById('game-container').style.display = 'none';
            document.getElementById('game-canvas').style.display = 'none';
            document.getElementById('game-intro').style.display = 'none';
            gameActive = false; // Stop game loop if running

            box.style.display = 'flex';
            box.style.animation = 'none';
            box.offsetHeight; /* trigger reflow */
            box.style.animation = 'popIn 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275)';
            box.innerText = quotes[Math.floor(Math.random() * quotes.length)];
        }

        // 3. Heart Catch Game Logic
        const canvas = document.getElementById('game-canvas');
        const ctx = canvas.getContext('2d');
        let hearts = [];
        let score = 0;
        let gameActive = false;

        // Step 1: Show the Intro Message
        function prepGame() {
            document.getElementById('quote-box').style.display = 'none';
            document.getElementById('game-container').style.display = 'block';
            document.getElementById('game-intro').style.display = 'block';
            document.getElementById('game-canvas').style.display = 'none';
        }

        // Step 2: Actually Start the Game
        function actuallyStartGame() {
            document.getElementById('game-intro').style.display = 'none';
            document.getElementById('game-canvas').style.display = 'block';
            
            if(!gameActive) {
                gameActive = true;
                score = 0;
                gameLoop();
            }
        }

        function createHeart() {
            return {
                x: Math.random() * (canvas.width - 40) + 20,
                y: -30,
                size: Math.random() * 20 + 20,
                speed: Math.random() * 2 + 1.5
            };
        }

        function gameLoop() {
            if(!gameActive) return;
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            
            if(Math.random() < 0.04) hearts.push(createHeart());

            hearts.forEach((h, i) => {
                h.y += h.speed;
                ctx.font = h.size + "px serif";
                ctx.fillText("‚ù§Ô∏è", h.x, h.y);
                if(h.y > canvas.height) hearts.splice(i, 1);
            });

            // Score Display inside Canvas
            ctx.fillStyle = "#a2d2ff";
            ctx.font = "bold 20px Quicksand";
            ctx.fillText("Love Score: " + score, 15, 30);
            requestAnimationFrame(gameLoop);
        }

        canvas.addEventListener('mousedown', (e) => {
            const rect = canvas.getBoundingClientRect();
            const mouseX = e.clientX - rect.left;
            const mouseY = e.clientY - rect.top;
            
            hearts.forEach((h, i) => {
                // Expanded click area for easier catching
                if(Math.abs(mouseX - h.x) < 40 && Math.abs(mouseY - (h.y - 10)) < 40) {
                    hearts.splice(i, 1);
                    score++;
                    triggerPopup(e.clientX, e.clientY); // Show popup at click location
                }
            });
        });

        // 4. Popup Logic
        function triggerPopup(x, y) {
            const el = document.createElement('div');
            el.className = 'score-popup';
            // Cycle through messages one by one
            el.innerText = gameCompliments[complimentIndex];
            complimentIndex = (complimentIndex + 1) % gameCompliments.length;

            // Position where user clicked
            el.style.left = x + 'px';
            el.style.top = y + 'px';
            
            document.body.appendChild(el);
            
            // Remove after animation
            setTimeout(() => {
                el.remove();
            }, 1500);
        }

        // 5. Star Background Generation
        const wrap = document.getElementById('star-wrap');
        for(let i=0; i<50; i++) {
            let s = document.createElement('div');
            s.className = 'star';
            let size = Math.random() * 3 + 1;
            s.style.width = size + 'px';
            s.style.height = size + 'px';
            s.style.left = Math.random() * 100 + 'vw';
            s.style.top = Math.random() * 100 + 'vh';
            s.style.setProperty('--duration', (Math.random() * 3 + 2) + 's');
            s.style.animationDelay = Math.random() * 5 + 's';
            wrap.appendChild(s);
        }

        // 6. Breathing Text
        const txt = document.getElementById('breathe-txt');
        setInterval(() => {
            if(txt.innerText === "Inhale...") txt.innerText = "Hold...";
            else if(txt.innerText === "Hold...") txt.innerText = "Exhale...";
            else txt.innerText = "Inhale...";
        }, 3000); 
    </script>
</body>

</html>
